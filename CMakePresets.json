{
  "version":2,
  "cmakeMinimumRequired":{
    "major":3,
    "minor":20,
    "patch":5
  },
  "configurePresets":[
    {
      "name":"default",
      "hidden":true,
      "binaryDir":"${sourceDir}/build",
      "cacheVariables":{
        "CMAKE_EXPORT_COMPILE_COMMANDS":"YES",
        "CMAKE_CXX_STANDARD":"17",
        "CMAKE_CXX_STANDARD_REQUIRED":"YES",
        "CMAKE_CXX_EXTENSIONS":"NO",
        "CMAKE_TOOLCHAIN_FILE":"$env{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake"
      }
    },
    {
      "name":"UBSanitizer",
      "hidden":false,
	  "generator":"Ninja",
      "inherits":[
        "default"
      ],
      "cacheVariables":{
        "ENABLE_ROM_TESTS" : "YES",
		"CMAKE_BUILD_TYPE": "UbSanitizer",
        "CMAKE_CXX_FLAGS": "-fsanitize=undefined,integer,return,shift,unsigned-shift-base,unreachable,nullability -fsanitize-minimal-runtime -fno-omit-frame-pointer -g"
      }
    },
    {
      "name":"MemSanitizer",
      "hidden":false,
	  "generator":"Ninja",
      "inherits":[
        "default"
      ],
      "cacheVariables":{
        "ENABLE_ROM_TESTS" : "YES",
		"CMAKE_BUILD_TYPE": "MemSanitizer",
        "CMAKE_CXX_FLAGS": "-Wall -Wextra -Wnarrowing -fsanitize=memory -fsanitize-memory-track-origins=2 -fno-omit-frame-pointer -g -O1 -fno-optimize-sibling-calls"
      }
    },

    {
      "name":"cppcheck",
      "hidden":true,
      "inherits":[
        "default"
      ],
      "cacheVariables":{
        "CMAKE_CXX_CPPCHECK":"cppcheck;--language=c++;--std=c++17;--inconclusive;--enable=all;-q;--cppcheck-build-dir=${sourceDir}/build"
      }
    },
    {
      "name":"clang-tidy",
      "hidden":true,
      "inherits":[
        "default"
      ],
      "cacheVariables":{
        "CMAKE_CXX_CLANG_TIDY":"clang-tidy;-checks=-*,bugprone-*,performance-*,portability-*"
      }
    },
    {
      "name":"static-analysis",
      "hidden":false,
      "generator":"Ninja",
      "inherits":[
        "default",
        "cppcheck",
        "clang-tidy"
      ]
    },
    {
      "name":"dev-linux",
      "hidden":false,
      "generator":"Ninja",
      "inherits":[
        "default",
        "static-analysis"
      ],
      "cacheVariables":{
        "CMAKE_BUILD_TYPE":"Debug"
      }
    },
    {
      "name":"release-linux",
      "hidden":false,
      "inherits":[
        "dev-linux"
      ],
      "cacheVariables":{
        "CMAKE_BUILD_TYPE":"Release"
      }
    },
    {
      "name":"debug-msvc",
      "hidden":false,
      "generator":"Visual Studio 16 2019",
      "architecture":"x64",
      "inherits":[
        "default"
      ],
      "cacheVariables":{
        "CMAKE_BUILD_TYPE":"Debug"
      }
    },
    {
      "name":"release-msvc",
      "hidden":false,
      "generator":"Visual Studio 16 2019",
      "architecture":"x64",
      "inherits":[
        "default",
        "debug-msvc"
      ],
      "cacheVariables":{
        "CMAKE_BUILD_TYPE":"Release"
      }
    }
  ]
}
